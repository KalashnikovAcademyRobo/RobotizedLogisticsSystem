---
layout: default
title: HTTP API
description: Порадуем пользователя свежими данными
---

{% include dev/navigation.md page="api" %}

Описание всех конечных точек HTTP API.

# Клиент

## Получить все предметы

Получение всех предметов.

```
GET /client/items
```

### Ответы

#### 200 OK

Успешное получение.

Тело ответа - **массив** предметов.

```json
[
    {
        "id": "string",
        "name": "string",
        "quantity": 0
    }
]
```

`id` - строка. Идентификатор предмета.

`name` - строка. Название предмета.

`quantity` - целое число. Оставшееся количество таких предметов. 

## Сделать заказ

Осуществление заказа на предмет с определённым идентификатором.

```
POST /client/order
```

### Тело запроса

```json
{
    "id": "string"
}
```

`itemId` - строка. Идентификатор предмета.

### Ответы

#### 200 OK

Успешный заказ.

Тело ответа пустое.

#### 400 Bad Request

Некорректное тело запроса.

Тело ответа пустое.

#### 404 Not Found

Предмета с указанным идентификатором не существует.

Тело ответа пустое.

#### 409 Conflict

Предметы с таким идентификатором закончились (их количество равно нулю).

Тело ответа пустое.

## Получить все заказы

Получение всех заказов.

```
GET /client/orders
```

### Ответы

#### 200 OK

Успешное получение.

Тело ответа - **массив** заказов.

```json
[
    {
        "id": "string",
        "itemId": "string",
        "status": "string"
    }
]
```

`id` - строка. Идентификатор заказа.

`itemId` - строка. Идентификатор заказанного предмета.

`status` - строка. Понятный пользователю статус заказа. Например, "Подбирается на складе", "В пути".

## Подтвердить получение заказа

Подтверждение получения заказа.

```
POST /client/order/confirm
```

### Тело запроса

```json
{
    "id": "string"
}
```

`orderId` - строка. Идентификатор заказа.

### Ответы

#### 200 OK

Получение заказа успешно подтверждено.

Тело ответа пустое.

#### 400 Bad Request

Некорректное тело запроса.

Тело ответа пустое.

#### 403 Forbidden

Заказ невозможно подтвердить, так как он ещё не находится в месте назначения.

Тело ответа пустое.

#### 404 Not Found

Заказа с указанным идентификатором не существует.

Тело ответа пустое.

# Кладовщик

## Получить ожидаемые заказы

Получение всех заказов, курьеры которых ожидают предмет.

```
GET /warehouse/orders
```

### Ответы

#### 200 OK

Успешное получение.

Тело ответа - **массив** ожидаемых заказов.

```json
[
    {
        "id": "string",
        "itemId": "string",
        "courierId": "string"
    }
]
```

`id` - строка. Идентификатор заказа.

`itemId` - строка. Идентификатор вещи.

`courierId` - строка. Идентификатор курьера, ожидающего заказ.

## Подтвердить отдачу заказа

Подтверждение отдачи предметов заказа курьеру.

```
POST /warehouse/order/confirm
```

### Тело запроса

```json
{
    "id": "string"
}
```

`id` - строка. Идентификатор заказа.

### Ответы

#### 200 OK

Успешное подтверждение.

Тело ответа пустое.

#### 400 Bad Request

Некорректное тело запроса.

Тело ответа пустое.

#### 403 Forbidden

Подтверждение заказа невозможно, так как ему ещё не присвоен курьер, или курьер ещё не готов, или заказ уже отправлен, или т. п.

Тело ответа пустое.

#### 404 Not Found

Заказа с указанным идентификатором не существует.

Тело ответа пустое.
